var bootbox=window.bootbox||function(){function j(c,a){null==a&&(a=k);return"string"==typeof h[a][c]?h[a][c]:a!=l?j(c,l):c}var k="en",l="en",o=!0,g={},f={},h={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",
CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}};f.setLocale=function(c){for(var a in h)if(a==c){k=c;return}throw Error("Invalid locale: "+c);};f.addLocale=function(c,a){"undefined"==typeof h[c]&&(h[c]={});for(var b in a)h[c][b]=a[b]};f.setIcons=function(c){g=c;if("object"!==typeof g||null==g)g={}};f.alert=function(){var c="",a=j("OK"),b=null;switch(arguments.length){case 1:c=arguments[0];break;case 2:c=arguments[0];"function"==typeof arguments[1]?b=arguments[1]:a=arguments[1];break;
case 3:c=arguments[0];a=arguments[1];b=arguments[2];break;default:throw Error("Incorrect number of arguments: expected 1-3");}return f.dialog(c,{label:a,icon:g.OK,callback:b},{onEscape:b})};f.confirm=function(){var c="",a=j("CANCEL"),b=j("CONFIRM"),e=null;switch(arguments.length){case 1:c=arguments[0];break;case 2:c=arguments[0];"function"==typeof arguments[1]?e=arguments[1]:a=arguments[1];break;case 3:c=arguments[0];a=arguments[1];"function"==typeof arguments[2]?e=arguments[2]:b=arguments[2];break;
case 4:c=arguments[0];a=arguments[1];b=arguments[2];e=arguments[3];break;default:throw Error("Incorrect number of arguments: expected 1-4");}return f.dialog(c,[{label:a,icon:g.CANCEL,callback:function(){"function"==typeof e&&e(!1)}},{label:b,icon:g.CONFIRM,callback:function(){"function"==typeof e&&e(!0)}}])};f.prompt=function(){var c="",a=j("CANCEL"),b=j("CONFIRM"),e=null;switch(arguments.length){case 1:c=arguments[0];break;case 2:c=arguments[0];"function"==typeof arguments[1]?e=arguments[1]:a=arguments[1];
break;case 3:c=arguments[0];a=arguments[1];"function"==typeof arguments[2]?e=arguments[2]:b=arguments[2];break;case 4:c=arguments[0];a=arguments[1];b=arguments[2];e=arguments[3];break;default:throw Error("Incorrect number of arguments: expected 1-4");}var m=$("<form></form>");m.append("<input autocomplete=off type=text />");var h=f.dialog(m,[{label:a,icon:g.CANCEL,callback:function(){"function"==typeof e&&e(null)}},{label:b,icon:g.CONFIRM,callback:function(){"function"==typeof e&&e(m.find("input[type=text]").val())}}],
{header:c});h.on("shown",function(){m.find("input[type=text]").focus();m.on("submit",function(a){a.preventDefault();h.find(".btn-primary").click()})});return h};f.modal=function(){var c,a,b,e={onEscape:null,keyboard:!0,backdrop:!0};switch(arguments.length){case 1:c=arguments[0];break;case 2:c=arguments[0];"object"==typeof arguments[1]?b=arguments[1]:a=arguments[1];break;case 3:c=arguments[0];a=arguments[1];b=arguments[2];break;default:throw Error("Incorrect number of arguments: expected 1-3");}e.header=
a;b="object"==typeof b?$.extend(e,b):e;return f.dialog(c,[],b)};f.dialog=function(c,a,b){var e=null,f="",h=[],b=b||{};null==a?a=[]:"undefined"==typeof a.length&&(a=[a]);for(var d=a.length;d--;){var g=null,j=null,k="",l=null;if("undefined"==typeof a[d].label&&"undefined"==typeof a[d]["class"]&&"undefined"==typeof a[d].callback){var g=0,p=null,n;for(n in a[d])if(p=n,1<++g)break;1==g&&"function"==typeof a[d][n]&&(a[d].label=p,a[d].callback=a[d][n])}"function"==typeof a[d].callback&&(l=a[d].callback);
a[d]["class"]?j=a[d]["class"]:d==a.length-1&&2>=a.length&&(j="btn-primary");g=a[d].label?a[d].label:"Option "+(d+1);a[d].icon&&(k="<i class='"+a[d].icon+"'></i> ");f+="<a data-handler='"+d+"' class='btn "+j+"' href='#'>"+k+""+g+"</a>";h[d]=l}b.modal_class||(b.modal_class="");a=["<div class='bootbox modal "+b.modal_class+"'>"];if(b.header){d="";if("undefined"==typeof b.headerCloseButton||b.headerCloseButton)d="<a href='#' class='close'>&times;</a>";a.push("<div class='modal-header'>"+d+"<h3>"+b.header+
"</h3></div>")}a.push("<div class='modal-body'></div>");f&&a.push("<div class='modal-footer'>"+f+"</div>");a.push("</div>");var i=$(a.join("\n"));("undefined"===typeof b.animate?o:b.animate)&&i.addClass("fade");$(".modal-body",i).html(c);b.remove_when_hidden&&i.bind("hidden",function(){i.remove()});i.bind("hide",function(){if("escape"==e&&"function"==typeof b.onEscape)b.onEscape()});$(document).bind("keyup.modal",function(a){27==a.which&&(e="escape")});i.bind("shown",function(){$("a.btn-primary:last",
i).focus()});i.on("click",".modal-footer a, a.close",function(a){var b=$(this).data("handler"),b=h[b],c=null;"function"==typeof b&&(c=b(a));!1!==c&&(a.preventDefault(),e="button",i.modal("hide"))});null==b.keyboard&&(b.keyboard="function"==typeof b.onEscape);$("body").append(i);i.modal({backdrop:b.backdrop||!0,keyboard:b.keyboard,show:b.show});return i};f.hideAll=function(){$(".bootbox").modal("hide")};f.animate=function(c){o=c};return f}();
