var bootbox=window.bootbox||function(){function i(c,a){null==a&&(a=k);return"string"==typeof h[a][c]?h[a][c]:a!=_defaultLocale?i(c,_defaultLocale):c}var e={},k=_defaultLocale="en",h={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},de:{OK:"OK",CANCEL:"K\u00fcndigen",CONFIRM:"Akzeptieren"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"}};e.setLocale=function(c){for(var a in h)if(a==c){k=c;return}throw Error("Invalid locale: "+c);};e.addLocale=function(c,a){"undefined"==
typeof h[c]&&(h[c]={});for(var b in a)h[c][b]=a[b]};e.alert=function(){var c="",a=i("OK"),b=null;switch(arguments.length){case 1:c=arguments[0];break;case 2:c=arguments[0];"function"==typeof arguments[1]?b=arguments[1]:a=arguments[1];break;case 3:c=arguments[0];a=arguments[1];b=arguments[2];break;default:throw Error("Incorrect number of arguments: expected 1-3");}return e.dialog(c,{label:a,callback:b},{onEscape:b})};e.confirm=function(){var c="",a=i("CANCEL"),b=i("CONFIRM"),f=null;switch(arguments.length){case 1:c=
arguments[0];break;case 2:c=arguments[0];"function"==typeof arguments[1]?f=arguments[1]:a=arguments[1];break;case 3:c=arguments[0];a=arguments[1];"function"==typeof arguments[2]?f=arguments[2]:b=arguments[2];break;case 4:c=arguments[0];a=arguments[1];b=arguments[2];f=arguments[3];break;default:throw Error("Incorrect number of arguments: expected 1-4");}return e.dialog(c,[{label:a,callback:function(){"function"==typeof f&&f(!1)}},{label:b,callback:function(){"function"==typeof f&&f(!0)}}])};e.modal=
function(){var c,a,b,f={onEscape:null,keyboard:!0,backdrop:!0};switch(arguments.length){case 1:c=arguments[0];break;case 2:c=arguments[0];"object"==typeof arguments[1]?b=arguments[1]:a=arguments[1];break;case 3:c=arguments[0];a=arguments[1];b=arguments[2];break;default:throw Error("Incorrect number of arguments: expected 1-3");}f.header=a;b="object"==typeof b?$.extend(f,b):f;return e.dialog(c,[],b)};e.dialog=function(c,a,b){var f=null,e="",h=[],b=b||{};null==a?a=[]:"undefined"==typeof a.length&&(a=
[a]);for(var d=a.length;d--;){var j=null,i=null,k=null;if("undefined"==typeof a[d].label&&"undefined"==typeof a[d]["class"]&&"undefined"==typeof a[d].callback){var j=0,m=null,l;for(l in a[d])if(m=l,j++,1<j)break;if(1==j&&"function"==typeof a[d][l])a[d].label=m,a[d].callback=a[d][l]}"function"==typeof a[d].callback&&(k=a[d].callback);a[d]["class"]?i=a[d]["class"]:d==a.length-1&&2>=a.length&&(i="primary");j=a[d].label?a[d].label:"Option "+(d+1);e+="<a data-handler='"+d+"' class='btn "+i+"' href='#'>"+
j+"</a>";h[d]=k}a=["<div class='bootbox modal hide fade'>"];if(b.header){d="";if("undefined"==typeof b.headerCloseButton||b.headerCloseButton)d="<a href='#' class='close'>&times;</a>";a.push("<div class='modal-header'>"+d+"<h3>"+b.header+"</h3></div>")}a.push("<div class='modal-body'></div>");e&&a.push("<div class='modal-footer'>"+e+"</div>");a.push("</div>");var g=$(a.join("\n"));$(".modal-body",g).html(c);g.bind("hidden",function(){g.remove()});g.bind("hide",function(){if("escape"==f&&"function"==
typeof b.onEscape)b.onEscape()});$(document).bind("keyup.modal",function(a){27==a.which&&(f="escape")});g.bind("shown",function(){$("a.primary:last",g).focus()});$("a",g).click(function(a){a.preventDefault();f="button";g.modal("hide");a=$(this).data("handler");a=h[a];"function"==typeof a&&a()});if(null==b.keyboard)b.keyboard="function"==typeof b.onEscape;g.modal({backdrop:b.backdrop||"static",show:b.show||!0,keyboard:b.keyboard});$("body").append(g);return g};e.hideAll=function(){$(".bootbox").modal("hide")};
return e}();